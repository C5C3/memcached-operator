apiVersion: memcached.c5c3.io/v1alpha1
kind: Memcached
metadata:
  labels:
    app.kubernetes.io/name: memcached-operator
    app.kubernetes.io/managed-by: kustomize
  name: memcached-sample
spec:
  replicas: 3
  image: "memcached:1.6"
  resources:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "500m"
      memory: "256Mi"
  memcached:
    maxMemoryMB: 128
    maxConnections: 2048
    threads: 4
    maxItemSize: "2m"
  highAvailability:
    antiAffinityPreset: "soft"
    podDisruptionBudget:
      enabled: true
      minAvailable: 1
  monitoring:
    enabled: true
    serviceMonitor:
      enabled: true
      scrapeInterval: "30s"
  security:
    enableNetworkPolicy: true
