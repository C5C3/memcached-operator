---
apiVersion: memcached.c5c3.io/v1alpha1
kind: Memcached
metadata:
  name: test-invalid-autoscaling-cpu-no-request
spec:
  image: "memcached:1.6"
  resources:
    # REQ-007: CPU utilization metric requires resources.requests.cpu â€” intentionally omitted
    requests:
      memory: "64Mi"
    limits:
      memory: "128Mi"
  memcached:
    maxMemoryMB: 64
    threads: 4
  autoscaling:
    enabled: true
    maxReplicas: 5
    metrics:
      - type: Resource
        resource:
          name: cpu
          target:
            type: Utilization
            averageUtilization: 80
